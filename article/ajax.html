<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="../assets/stylesheet.css">
        <link rel="icon" href="../assets/favicon.png">
        
    </head>
    <body>
        <header>
            <div class="content">
                <div class="header-logo">
                    <a href="../index.html">
                        <span></span>
                    </a>
                </div>
                <div class="menu">
                    <a href="index.html">HOME</a>
                </div>
            </div>
        </header>
        <div class="main">
            <div class="content">
              
                <pre>
                    <code>
<!-- ここに記入 -->

ajax_appソースコード

posts_controller.rb
```
class PostsController &lt; ApplicationController

  def index
    @posts = Post.order(id: "DESC")
  end

  # def new
  # end

  def create
    post = Post.create(content: params[:content])
    render json:{post: post}
  end
end
```

memo.js
```
const buildHTML = (XHR) => {
  const item = XHR.response.post;
  const html = `
        &lt;div class="post">
          &lt;div class="post-date">
            投稿日時：${item.created_at}
          &lt;/div>
          &lt;div class="post-content">
            ${item.content}
          &lt;/div>
        &lt;/div>`;
  return html;
}

function post (){
  const submit = document.getElementById("submit");
  submit.addEventListener('click', (e) => {
    e.preventDefault();
    const form = document.getElementById("form");
    const formData = new FormData(form);
    const XHR = new XMLHttpRequest();
    XHR.open("POST", "/posts", true);
    XHR.responseType = "json";
    XHR.send(formData);
    XHR.onload = () => {
      if (XHR.status != 200) {
        alert(`Error ${XHR.status}: ${XHR.statusText}`);
        return null;
      };
      const list = document.getElementById("list");
      const formText = document.getElementById("content");
      list.insertAdjacentHTML("afterend", buildHTML(XHR));
      formText.value = "";
    };
  });
};

window.addEventListener('load', post);
```

                    </code>
                </pre>
            </div>
        </div>
        <footer>
            <div class="footer-logo">波浪世界</div>
            <div class="content"></div>
        </footer>
    </body>
</html>